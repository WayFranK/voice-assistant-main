# Soika - Голосовой помощник

Soika - это продвинутый голосовой помощник с системой исправления ошибок и множеством функций.

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Проверьте импорты (опционально):
```bash
python test_imports.py
```

3. Запустите Soika:
```bash
python main.py
```

### Устранение проблем с импортами и типами

Если у вас возникают ошибки импорта или типов в VS Code или других IDE:

1. **Установите зависимости**: `pip install -r requirements.txt`
2. **Проверьте виртуальное окружение**: Убедитесь, что используете правильное окружение
3. **Перезапустите IDE**: Перезапустите VS Code после установки зависимостей
4. **Проверьте конфигурацию**: Файлы `pyrightconfig.json` и `.vscode/settings.json` настроены для проекта
5. **Ошибки типов**: Проверки типов отключены для внешних библиотек, чтобы избежать ложных предупреждений

## Исправленные ошибки

В коде были исправлены следующие ошибки:

1. **Очистка памяти**: Заменена Linux-команда на Windows-совместимую
2. **Будильник**: Добавлена логика срабатывания будильника
3. **Безопасное закрытие окон**: Улучшена обработка закрытия tkinter окон
4. **Валидация входных данных**: Добавлены проверки для всех функций
5. **Обработка исключений**: Улучшена обработка ошибок во всех функциях

## Система исправления ошибок

Soika включает в себя:
- **Логирование ошибок** в файл `soika_errors.log`
- **Автоматическое восстановление** после критических ошибок
- **Декораторы для обработки ошибок** во всех функциях
- **Таймауты и обработка исключений** в распознавании речи
- **Валидация входных данных** для предотвращения ошибок

### CLI инструмент анализа и авто-исправления кода

Добавлен скрипт `code_fixer.py` для запуска статического анализа и автоформатирования.

- Установка зависимостей:
  ```bash
  pip install -r requirements.txt
  ```
  (включает `pylint`, `flake8`, `autopep8`)

- Запуск анализа текущей директории с `pylint`:
  ```bash
  python code_fixer.py .
  ```

- Анализ с `flake8`:
  ```bash
  python code_fixer.py . --analyzer flake8
  ```

- Автоисправление стилевых ошибок и повторный анализ:
  ```bash
  python code_fixer.py . --fix --aggressive 1 --max-line-length 120 --non-interactive
  ```

- Проверка отдельного файла:
  ```bash
  python code_fixer.py path/to/file.py --fix
  ```

- Пропустить проверку синтаксиса или разрешить форматирование при синтаксических ошибках:
  ```bash
  python code_fixer.py . --skip-syntax-check
  # или
  python code_fixer.py . --fix --allow-fix-with-syntax-errors
  ```

## Команды

### Системные команды
- **"Soika, заверши работу компьютера"** — выключить ПК
- **"Soika, перезагрузи компьютер"** — перезапуск
- **"Soika, заблокируй компьютер"** — блокировка экрана
- **"Soika, очисти память"** — закрыть фоновые процессы, освободить ОЗУ
- **"Soika, открой диспетчер задач"** — открыть Task Manager
- **"Soika, открой проводник"** — открыть "Мой компьютер"
- **"Soika, создай папку [название]"** — новая папка в текущей директории

### Интернет и браузер
- **"Soika, открой Google"** — открыть google.com
- **"Soika, открой Яндекс"** — открыть yandex.ru
- **"Soika, открой YouTube"** — открыть youtube.com
- **"Soika, открой почту"** — открыть почту
- **"Soika, найди [запрос]"** — поиск в интернете
- **"Soika, найди картинку [запрос]"** — поиск изображений
- **"Soika, переведи [текст]"** — перевод на английский

### Поиск на компьютере
- **"Soika, найди файл [название]"** — поиск файла
- **"Soika, открой папку [название]"** — открыть папку
- **"Soika, найди документ [название]"** — поиск документа
- **"Soika, найди музыку [название]"** — поиск музыки

### Мультимедиа
- **"Soika, включи музыку"** — запустить проигрыватель
- **"Soika, поставь музыку на паузу"** — пауза
- **"Soika, включи следующее"** — следующий трек
- **"Soika, сделай громче/тише"** — управление громкостью

### Заметки и напоминания
- **"Soika, запиши заметку [текст]"** — создать заметку
- **"Soika, прочитай заметки"** — прочитать все заметки
- **"Soika, напомни мне [текст] в [время]"** — установить напоминание
- **"Soika, включи таймер на [минуты] минут"** — установить таймер
- **"Soika, включи будильник на [ЧЧ:ММ]"** — установить будильник

### Система мониторинга
- **"Soika, включи мониторинг экрана"** — включить мониторинг
- **"Soika, выключи мониторинг экрана"** — выключить мониторинг
- **"Soika, включи режим конфиденциальности"** — режим конфиденциальности
- **"Soika, начни обучение поведения"** — режим обучения
- **"Soika, адаптируйся к игре [название]"** — адаптация к игре
- **"Soika, включи режим не беспокоить"** — режим "не беспокоить"
- **"Soika, покажи логи активности"** — показать логи
- **"Soika, забудь данные за вчера"** — очистить данные
- **"Soika, какие у тебя догадки"** — показать статус системы
- **"Soika, покажи фоновые процессы"** — показать процессы

### Разное
- **"Soika, какой сегодня день"** — показать дату
- **"Soika, который час"** — показать время
- **"Soika, какая погода"** — информация о погоде
- **"Soika, расскажи шутку"** — рассказать шутку
- **"Soika, что ты можешь"** — список возможностей

## Особенности

- **Валидация входных данных**: Все функции проверяют корректность входных параметров
- **Безопасное закрытие**: Правильная обработка закрытия окон и потоков
- **Логирование**: Подробное логирование всех операций
- **Обработка ошибок**: Автоматическое восстановление после ошибок
- **Мониторинг ресурсов**: Отслеживание использования памяти
- **Многопоточность**: Фоновые процессы не блокируют основной интерфейс

## Требования

- Python 3.7+
- Windows 10/11
- Микрофон для голосового ввода
- Динамики для голосового вывода 